(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{1100:function(e,t,s){Promise.resolve().then(s.bind(s,5024))},5024:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var n=s(7573),a=s(7653),r=s(1695),o=s(4382),l=s(5721);function i(){let{login:e,register:t}=(0,o.a)(),s=(0,r.useRouter)(),[i,c]=(0,a.useState)("login"),[u,d]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),[p,f]=(0,a.useState)(""),[g,x]=(0,a.useState)(!1),[v,b]=(0,a.useState)(""),w=async n=>{n.preventDefault(),x(!0),b("");try{"login"===i?await e(m,p):await t(u,m,p),s.push("/")}catch(e){var a,r;b((null===(r=e.response)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.error)||"Something went wrong")}finally{x(!1)}};return(0,n.jsx)("div",{className:"min-h-screen bg-surface-950 flex items-center justify-center p-4",children:(0,n.jsxs)("div",{className:"w-full max-w-sm",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[(0,n.jsx)("div",{className:"w-12 h-12 bg-brand-600 rounded-2xl flex items-center justify-center text-xl font-bold mx-auto mb-4",children:"D"}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-white",children:"DevRoom"}),(0,n.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Multi-Agent Collaborative Dev Platform"})]}),(0,n.jsxs)("div",{className:"card p-6",children:[(0,n.jsx)("div",{className:"flex gap-1 bg-surface-900 rounded-lg p-1 mb-6",children:["login","register"].map(e=>(0,n.jsx)("button",{onClick:()=>c(e),className:"flex-1 py-1.5 rounded-md text-sm font-medium transition-colors capitalize ".concat(i===e?"bg-brand-600 text-white":"text-slate-400 hover:text-white"),children:e},e))}),(0,n.jsxs)("form",{onSubmit:w,className:"space-y-3",children:["register"===i&&(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm text-slate-400 block mb-1",children:"Name"}),(0,n.jsx)("input",{className:"input",placeholder:"Your name",value:u,onChange:e=>d(e.target.value),required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm text-slate-400 block mb-1",children:"Email"}),(0,n.jsx)("input",{className:"input",type:"email",placeholder:"you@example.com",value:m,onChange:e=>h(e.target.value),required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm text-slate-400 block mb-1",children:"Password"}),(0,n.jsx)("input",{className:"input",type:"password",placeholder:"••••••••",value:p,onChange:e=>f(e.target.value),required:!0,minLength:8})]}),v&&(0,n.jsx)("p",{className:"text-red-400 text-sm bg-red-400/10 rounded-lg px-3 py-2",children:v}),(0,n.jsxs)("button",{type:"submit",className:"btn-primary w-full flex items-center justify-center gap-2 mt-2",disabled:g,children:[g?(0,n.jsx)(l.Z,{className:"w-4 h-4 animate-spin"}):null,"login"===i?"Sign In":"Create Account"]})]})]})]})})}},5118:function(e,t,s){"use strict";s.d(t,{Hh:function(){return m},I2:function(){return l},Mp:function(){return u},Vp:function(){return c},iJ:function(){return o},lC:function(){return i},ug:function(){return d}});var n=s(3908);let a=s(4859).env.NEXT_PUBLIC_API_URL||"http://localhost:4000",r=n.Z.create({baseURL:a,withCredentials:!0,headers:{"Content-Type":"application/json"}}),o={register:(e,t,s)=>r.post("/auth/register",{name:e,email:t,password:s}),login:(e,t)=>r.post("/auth/login",{email:e,password:t}),logout:()=>r.post("/auth/logout"),me:()=>r.get("/auth/me")},l={list:()=>r.get("/rooms"),get:e=>r.get("/rooms/".concat(e)),create:(e,t)=>r.post("/rooms",{title:e,goal:t}),plan:e=>r.post("/rooms/".concat(e,"/plan")),createInvite:e=>r.post("/rooms/".concat(e,"/invites"))},i={get:e=>r.get("/tasks/".concat(e)),assign:(e,t)=>r.post("/tasks/".concat(e,"/assign"),{assignedUserId:t}),updateStatus:(e,t,s)=>r.post("/tasks/".concat(e,"/status"),{status:t,blockedReason:s})},c={get:e=>r.get("/contracts/".concat(e)),propose:(e,t)=>r.post("/contracts/".concat(e,"/propose"),t),publish:(e,t)=>r.post("/contracts/".concat(e,"/publish"),t)},u={list:(e,t)=>r.get("/rooms/".concat(e,"/messages?channel=").concat(t)),sendMaster:(e,t,s)=>r.post("/rooms/".concat(e,"/messages/master"),{content:t,sharedFromMessageId:s}),sendWorker:(e,t)=>r.post("/rooms/".concat(e,"/messages/worker"),{content:t})},d={list:(e,t,s)=>r.get("/rooms/".concat(e,"/notebook"),{params:{q:t,category:s}}),create:(e,t)=>r.post("/rooms/".concat(e,"/notebook"),t)},m={join:e=>r.post("/invites/".concat(e,"/join"))}},4382:function(e,t,s){"use strict";s.d(t,{AuthProvider:function(){return l},a:function(){return i}});var n=s(7573),a=s(7653),r=s(5118);let o=(0,a.createContext)(null);function l(e){let{children:t}=e,[s,l]=(0,a.useState)(null),[i,c]=(0,a.useState)(!0);(0,a.useEffect)(()=>{r.iJ.me().then(e=>l(e.data)).catch(()=>l(null)).finally(()=>c(!1))},[]);let u=(0,a.useCallback)(async(e,t)=>{l((await r.iJ.login(e,t)).data)},[]),d=(0,a.useCallback)(async(e,t,s)=>{l((await r.iJ.register(e,t,s)).data)},[]),m=(0,a.useCallback)(async()=>{await r.iJ.logout(),l(null)},[]);return(0,n.jsx)(o.Provider,{value:{user:s,loading:i,login:u,register:d,logout:m},children:t})}function i(){let e=(0,a.useContext)(o);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},2389:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var n=s(7653);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,n.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:c="",children:u,iconNode:d,...m}=e;return(0,n.createElement)("svg",{ref:t,...o,width:a,height:a,stroke:s,strokeWidth:i?24*Number(l)/Number(a):l,className:r("lucide",c),...m},[...d.map(e=>{let[t,s]=e;return(0,n.createElement)(t,s)}),...Array.isArray(u)?u:[u]])}),i=(e,t)=>{let s=(0,n.forwardRef)((s,o)=>{let{className:i,...c}=s;return(0,n.createElement)(l,{ref:o,iconNode:t,className:r("lucide-".concat(a(e)),i),...c})});return s.displayName="".concat(e),s}},5721:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(2389).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1695:function(e,t,s){"use strict";var n=s(1219);s.o(n,"useParams")&&s.d(t,{useParams:function(){return n.useParams}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}})}},function(e){e.O(0,[908,293,528,744],function(){return e(e.s=1100)}),_N_E=e.O()}]);